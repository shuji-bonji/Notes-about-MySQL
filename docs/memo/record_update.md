#  レコードの更新 

## INSERT

### 構文


```sql
INSERT INTO テーブル名(フィールド名1, [フィールド名2,...]) VALUES(値1,[値2,...]);

```


### 実例

```mysql
mysql> INSERT INTO M_USERS(no, lname, fname, age, sex) VALUES
    ->   (1, 'オダ', 'ノブナガ', 20, 'M'),
    ->   (2, 'オダ', 'ノブユキ', 19, 'M'),
    ->   (3, 'シュウカマ', 'マサコ', 40, 'F'),
    ->   (4, 'キバヤシ', 'リョウスケ', 20, 'X');
Query OK, 4 rows affected (0.00 sec)
Records: 4  Duplicates: 0  Warnings: 0

mysql> SELECT * FROM M_USERS;
+----+-----------------+-----------------+-----+------+
| no | lname           | fname           | age | sex  |
+----+-----------------+-----------------+-----+------+
|  1 | オダ            | ノブナガ        |  20 | M    |
|  2 | オダ            | ノブユキ          |  19 | M    |
|  3 | シュウカマ      | マサコ          |  40 | F    |
|  4 | キバヤシ        | リョウスケ      |  20 | X    |
+----+-----------------+-----------------+-----+------+
4 rows in set (0.00 sec)
```

フィールド名を省略することも可能です。

```mysql

mysql> INSERT INTO M_USERS VALUES(5, 'カナメ', 'ナギ', 25, 'F');
Query OK, 1 row affected (0.00 sec)

mysql> SELECT * FROM M_USERS;
+----+-----------------+-----------------+-----+------+
| no | lname           | fname           | age | sex  |
+----+-----------------+-----------------+-----+------+
|  1 | オダ            | ノブナガ        |  20 | M    |
|  2 | オダ            | ノブユキ          |  19 | M    |
|  3 | シュウカマ      | マサコ          |  40 | F    |
|  4 | キバヤシ        | リョウスケ      |  20 | X    |
|  5 | カナメ          | ナギ            |  25 | F    |
+----+-----------------+-----------------+-----+------+
5 rows in set (0.01 sec)
  
```


## UPDATE

### 構文


```sql
UPDATE テーブル名 SET フィールド名1=値 [, フィールド名2='値', ...] WHERE 条件;

```


### 実例

```mysql
mysql> select * from M_USERS;
+----+-----------------+-----------------+-----+------+
| no | lname           | fname           | age | sex  |
+----+-----------------+-----------------+-----+------+
|  1 | オダ            | ノブナガ        |  20 | M    |
|  2 | オダ            | ノブユキ          |  19 | M    |
|  3 | シュウカマ      | マサコ          |  40 | F    |
|  4 | キバヤシ        | リョウスケ      |  20 | X    |
|  5 | カナメ          | ナギ            |  25 | F    |
+----+-----------------+-----------------+-----+------+
5 rows in set (0.00 sec)

mysql> UPDATE M_USERS SET fname='リン', age=26 WHERE no=5;
Query OK, 1 row affected (0.00 sec)
Rows matched: 1  Changed: 1  Warnings: 0

mysql> select * from M_USERS;
+----+-----------------+-----------------+-----+------+
| no | lname           | fname           | age | sex  |
+----+-----------------+-----------------+-----+------+
|  1 | オダ            | ノブナガ        |  20 | M    |
|  2 | オダ            | ノブユキ          |  19 | M    |
|  3 | シュウカマ      | マサコ          |  40 | F    |
|  4 | キバヤシ        | リョウスケ      |  20 | X    |
|  5 | カナメ          | リン            |  26 | F    |
+----+-----------------+-----------------+-----+------+
5 rows in set (0.00 sec)


```



## DELETE 


### 構文


```sql
DELETE FROM テーブル名 WHERE 条件;

```

WHERE句を省略すると全てのレコードが削除対象となります。


### 実例

```mysql
mysql> select * from M_USERS;
+----+-----------------+-----------------+-----+------+
| no | lname           | fname           | age | sex  |
+----+-----------------+-----------------+-----+------+
|  1 | オダ            | ノブナガ        |  20 | M    |
|  2 | オダ            | ノブユキ          |  19 | M    |
|  3 | シュウカマ      | マサコ          |  40 | F    |
|  4 | キバヤシ        | リョウスケ      |  20 | X    |
|  5 | カナメ          | リン            |  26 | F    |
+----+-----------------+-----------------+-----+------+
5 rows in set (0.00 sec)

mysql>  DELETE FROM M_USERS WHERE sex='X';
Query OK, 1 row affected (0.00 sec)

mysql> select * from M_USERS;
+----+-----------------+--------------+-----+------+
| no | lname           | fname        | age | sex  |
+----+-----------------+--------------+-----+------+
|  1 | オダ          | ノブナガ     |  20 | M    |
|  2 | オダ          | ノブユキ       |  19 | M    |
|  3 | シュウカマ      | マサコ       |  40 | F    |
|  5 | カナメ          | リン         |  26 | F    |
+----+-----------------+--------------+-----+------+
4 rows in set (0.00 sec)

```


## REPLACE

`REPLACE`は**レコードが存在すれば更新し、レコードが存在しなければ挿入**を行います。  

!!! note REPLACEはMySQLなど一部のDBMSのみ
    `REPLACE`MySQLなど一部のDBMSのみで実装されています。  
    OracleやSQLServerでは`MERGE`文として実装されています。

### 構文


```sql
REPLACE INTO テーブル名(フィールド名1[, フィールド名2, ...]) VALUES(値1[, 値2, ...]);


REPLACE INTO テーブル名 VALUES(値1[, 値2, ...]);

```


### 実例

```mysql
mysql> select * from M_USERS;
+----+-----------------+--------------+-----+------+
| no | lname           | fname        | age | sex  |
+----+-----------------+--------------+-----+------+
|  1 | オダ          | ノブナガ     |  20 | M    |
|  2 | オダ          | ノブユキ       |  19 | M    |
|  3 | シュウカマ      | マサコ       |  40 | F    |
|  5 | カナメ          | リン         |  26 | F    |
+----+-----------------+--------------+-----+------+
4 rows in set (0.00 sec)

mysql> REPLACE INTO M_USERS VALUES(4, 'キバヤシ', 'リョウスケ', 34, 'X');
Query OK, 1 row affected (0.00 sec)

mysql> select * from M_USERS;
+----+-----------------+-----------------+-----+------+
| no | lname           | fname           | age | sex  |
+----+-----------------+-----------------+-----+------+
|  1 | オダ            | ノブナガ        |  20 | M    |
|  2 | オダ            | ノブユキ          |  19 | M    |
|  3 | シュウカマ      | マサコ          |  40 | F    |
|  4 | キバヤシ        | リョウスケ      |  34 | X    |
|  5 | カナメ          | リン            |  26 | F    |
+----+-----------------+-----------------+-----+------+
5 rows in set (0.00 sec)

```

